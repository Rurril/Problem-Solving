# 백준 13460 - 구슬탈출

## 접근

일단 시뮬레이션 문제 중에서도 난이도가 꽤나 높은 문제라고 느껴졌다. 

전체적으로 구슬을 움직이는 것은 좌표를 큐에 넣고 BFS를 통해서 접근하면 된다는 것은 바로 생각이 들었지만 몇 가지 바로 생각이 나지 않는 부분들이 있었다.

1. 10번 이하로 움직여야 하며, 초과할 경우 -1을 리턴
2. 빨간 구슬, 파란 구슬을 동시에 움직여야 한다 -> 위치에 따라서 어떤 것을 먼저 움직여야 하는지 판단해야함.
3. 어떻게 중복된 위치를 제거할 것인지 판단.
4. 구슬들이 동시에 들어갈 경우를 비롯한 예외 케이스들을 찾아야 한다.

---
## 풀이

### 중복된 위치를 더 이상 방문하지 않는 것
```java
boolean[][][][] isVisited = new boolean[n][m][n][m];
// 앞의 2차원이 빨간 구슬, 뒤의 2차원이 파란 구슬. 
```

4차원의 boolean 배열로 중복을 제거했다. 앞의 2차원은 각각 빨간 구슬의 y,x 값을 의미하고, 뒤의 2차원은 파란 구슬의 y,x값을 의미한다. 

### 구슬의 이동

Roll()이라는 함수를 만들어서 그 안에 각각 다른 while문을 통해서 멈추는 조건

1. 맵을 벗어나거나
2. 벽에 막히거나
3. 도착 하거나

위 세 가지의 경우에 각 구슬을 멈추었다.

그리고 만약에 한 방향으로 굴려서 같은 위치에서 멈춘다고 하면, 그땐 cnt 변수들을 통해서 더 많이 움직인 것이 멀리있다는 점을 이용하여, 

더 많이 움직인 구슬을 반대 방향으로 한 칸 이동하게 했다.

--- 
## 🔥 시행착오

1. 구슬이 구멍에 빠졌을 때, 멈추게 하는 경우 처리

2. 두 개의 구슬이 다 구멍에 빠졌을 경우 처리

3. for문 10번을 돌게 했는데, 논리적으로 사실은 10번째 움직인 것을 확인하지 않은 경우 처리




## 🤭 비슷한 문제

백준 온라인 저지
- 


## 💌 참고 자료

[N13460.java](https://github.com/Rurril/Problem-Solving/blob/Test/Problem-Solving/PS/Simulation/N13460.java)


