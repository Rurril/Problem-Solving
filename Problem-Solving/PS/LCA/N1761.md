# ë°±ì¤€ 1761 - ì •ì ë“¤ì˜ ê±°ë¦¬

## ì ‘ê·¼

LCA ê¸°ë°˜ì˜ ë¬¸ì œë¡œ, LCAë¥¼ dpë¡œ ê° ì •ì ì˜ 2^nìœ„ì˜ parentë¥¼ ê°–ê²Œí•˜ëŠ” ë°°ì—´ì„ ë§Œë“¤ê³  ê·¸ì™€ ë™ì‹œì— ê·¸ ë¶€ëª¨ê¹Œì§€ì˜ ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ê³  ì¶œë ¥í•˜ë„ë¡ í–ˆë‹¤.

---
## í’€ì´

### BFSë¥¼ í†µí•´ì„œ parentì™€ ê±°ë¦¬ë¥¼ ì„¤ì •

```java
private static void BFS(){

    int start = 1;
    depth[start] = 1;
    Queue<Integer> q = new LinkedList<>();
    q.add(start);

    while(!q.isEmpty()){

        int current = q.poll();

        for(Edge next : edges[current]){
            if(depth[next.end] == 0){

                depth[next.end] = depth[current] + 1;
                parents[next.end][0][0] = current; // parentì„ ë‚˜íƒ€ëƒ„
                parents[next.end][0][1] = next.volume; // parentì™€ì˜ ê±°ë¦¬ë¥¼ ë‚˜íƒ€ëƒ„.
                q.add(next.end);
            }
        }

    }
}
```

ë°”ë¡œ ìœ„ì˜ ë¶€ëª¨ì™€ ê·¸ ë¶€ëª¨ì™€ì˜ ê±°ë¦¬ë¥¼ BFSë¥¼ í†µí•´ì„œ ëª¨ë‘ ì…ë ¥.

### ë°”ë¡œ ìœ„ ì´ìƒì˜ ë¶€ëª¨ ê´€ê³„ì™€ ê±°ë¦¬ ì„¤ì •

```java

private static void setParent(){

    for(int i=1; i<K; i++){
        for(int j=1; j<=N; j++){
            parents[j][i][0] = parents[parents[j][i-1][0]][i-1][0];
            if(parents[j][i][0] == 0)continue;
            parents[j][i][1] = parents[j][i-1][1] + parents[parents[j][i-1][0]][i-1][1]; // ë¶€ëª¨ì™€ì˜ ê¸¸ì´ ì¸¡ì •
        }
    }
}
```
ì í™”ì‹ì„ êµ¬í•´ì„œ 2^në§Œí¼ì˜ ë¶€ëª¨ë¥¼ êµ¬í•˜ê³ , ê·¸ ë¶€ëª¨ì™€ì˜ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ë¡œì§ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤.

ë¶€ëª¨ë¥¼ êµ¬í•˜ëŠ” ê²ƒì€ [11438 LCA 2](https://github.com/Rurril/Problem-Solving/blob/Test/Problem-Solving/PS/LCA/N11438.md) ì°¸ê³ í•˜ì.(ì „ì— í’€ë©´ì„œ ì •ë¦¬ í•´ë†“ìŒ)

--- 
## ğŸ”¥ ì‹œí–‰ì°©ì˜¤

1. LCA ì‘ìš© ë¬¸ì œë¡œ ì „ì— í’€ì—ˆë˜ ë¬¸ì œë“¤ì´ ìˆì–´ì„œ ê±°ë¦¬ë§Œ ì…ë ¥í•˜ê³  ê³„ì‚°í•˜ë„ë¡ í•˜ëŠ” ë¡œì§ë§Œ ìˆë‹¤ë©´ ì‰½ê²Œ í’€ ìˆ˜ ìˆê² ë‹¤ê³  ìƒê°í•˜ê³  ì§„í–‰í–ˆë‹¤.
2. ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ì í™”ì‹ì„ êµ¬í•˜ê³ , ê±°ë¦¬ë¥¼ ë”í•´ì„œ êµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ ì¡°ê¸ˆ ì–´ë ¤ì› ì§€ë§Œ, í° ì‹œí–‰ì°©ì˜¤ ì—†ì´ ì™„ë£Œí–ˆë‹¤.





## ğŸ’Œ ì°¸ê³  ìë£Œ

[N1761.java](https://github.com/Rurril/Problem-Solving/blob/Test/Problem-Solving/PS/LCA/N1761.java)


